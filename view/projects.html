<section class="main container py-5">
    <h2>Proyectos</h2>

    <div id="projects-container" class="service-grid d-flex flex-wrap gap-4"></div>

    <script>
        window.projects = window.projects || [
            {
                img: "../img/e_commerce/ecommerce.jpg",
                title: "E-commerce: JAP2022",
                desc: "Página de comercio online basada en HTML, CSS, Bootstrap y JS para el programa Jóvenes a Programar 2022.",
                link: "../view/jap2022.html",
                disabled: false
            },
            {
                img: "../img/personal_website/personalweb.png",
                title: "Página Web Personal",
                desc: "Página web personal basada en HTML, CSS, Bootstrap y JS.",
                link: "../view/personal-web.html",
                disabled: false
            },
            {
                img: "../img/e_commerce_farma/farma.png",
                title: "E-commerce: Farmacia",
                desc: "Descripción de ejemplo.",
                link: "#",
                disabled: true
            },
            {
                img: "../img/videogame_web/videojuego.png",
                title: "Videojuego Web",
                desc: "Videojuego básico en navegador.",
                link: "#",
                disabled: true
            }
        ];

        function loadProjects() {
            const container = document.getElementById("projects-container");
            if (!container) return;

            container.innerHTML = ""; // limpiar contenido previo

            window.projects.forEach(proj => {
                const card = document.createElement("div");
                card.classList.add("card", "d-flex", "flex-column");
                card.style.width = "18rem"; // tamaño fijo de tarjeta
                card.style.minHeight = "350px"; // altura mínima para alinear botones

                card.innerHTML = `
                    <img src="${proj.img}" alt="${proj.title}" class="card-img-top" />
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">${proj.title}</h5>
                        <p class="card-text flex-grow-1">${proj.desc}</p>
                        <a 
                          ${proj.disabled ? 'aria-disabled="true"' : `data-page="${proj.link}" data-link`} 
                          class="btn btn-warning mt-auto ${proj.disabled ? 'disabled' : ''}">
                            ${proj.disabled ? "Próximamente" : "Más información"}
                        </a>
                    </div>
                `;

                container.appendChild(card);
            });
        }

        loadProjects();
    </script>

    <style>
        /* Para tarjetas y botones */
        #projects-container .card {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background-color: #111;
            color: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.3);
        }

        #projects-container .card img {
            object-fit: cover;
            height: 180px;
        }

        #projects-container .card .btn.disabled {
            pointer-events: none;
            opacity: 0.6;
        }
    </style>
</section>